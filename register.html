<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="format-detection" content="telephone=no" />
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui">
	<meta name="apple-mobile-web-app-title" content="">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<title>测试</title>
	<link rel="icon" href="favicon.ico" />
	<link rel="stylesheet" href="css/app.css" />
</head>
<body>
	
	<div class="app" id="app">
		<div class="hd">
			<div class="top-bar">
				<a href="javascript:history.go(-1);" class="back"></a>
				Register
			</div>
		</div>

		<div class="bd bd-login">
			<div class="form-box">
				<a href="index.html" class="logo-banner"></a>
				
				<div class="tip-wrap">
					<p class="tip tip-error">The password can not be empty!</p>
				</div>
				
				<div class="form">
					<form action="" method="post">
						<div class="control">
							<input type="text" id="J_Email" placeholder="Email" maxlength="15" />
							<a href="javascript:;" class="close"></a>
						</div>

						<div class="control">
							<input type="password" id="J_Password" placeholder="Password" maxlength="15" />
							<a href="javascript:;" class="close"></a>
						</div>
						
						<div class="control">
							<input type="password" id="J_RepeatPassword" placeholder="Password again" maxlength="15" />
							<a href="javascript:;" class="close"></a>
						</div>

						<a href="javascript:;" id="J_Register" class="btn btn-blue btn-register">Register</a>
					</form>
				</div>
			</div>
		</div>
		
		<div class="ft">
			<div class="sub-nav">
				<a href="#" class="nav-item">
					<span class="icon-home"></span>
					<span class="text">Home</span>
				</a>
				<a href="#" class="nav-item">
					<span class="icon-faq"></span>
					<span class="text">FAQ</span>
				</a>
				<a href="#" class="nav-item last">
					<span class="icon-feedback"></span>
					<span class="text">Feedback</span>
				</a>
			</div>
			<p class="copyright">Copyright &copy; 2014 Changyou.com</p>
		</div>
	</div>

	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/app.js"></script>
	<script>
		(function($) {
			var dist = {
				"email empty": "email can't be empty.",
				"email syntax error": "email syntax error",
				"password empty": "password can't be empty.",
				"repeatPassword empty": "repeat password can't be empty.",
				"password too short": "the length of password is too short.",
				"passwords be same": "the two password must be same."
			};

			$("input").clearInput();


			$("#J_Register").bind("click", function() {
				var email = $("#J_Email");
				var password = $("#J_Password");
				var repeatPassword = $("#J_RepeatPassword");

				// email empty
				if(email && email.val()=="") {
					showError(dist["email empty"]);
					return;
				}

				// email syntax error
				if(!isEmail(email.val())) {
					showError(dist["email syntax error"]);
					return;
				}

				// password empty
				if(password && password.val()=="") {
					showError(dist["password empty"]);
					return;
				}

				// repeat password empty
				if(repeatPassword && repeatPassword.val()=="") {
					showError(dist["repeatPassword empty"]);
					return;
				}

				// the length of password is too short
				if(password.val().length <=4 || repeatPassword.val().length<=4) {
					showError(dist["password too short"]);
					return;
				}

				// passwords be same
				if(password.val() != repeatPassword.val()) {
					showError(dist["passwords be same"]);
					return;
				}

				hideError();

				// submit form

			});

		})(jQuery);
	</script>
	
</body>
</html>