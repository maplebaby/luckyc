<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="format-detection" content="telephone=no" />
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
	<meta name="apple-mobile-web-app-title" content="">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<title>测试</title>
	<link rel="icon" href="favicon.ico" />
	<link rel="stylesheet" href="css/app.css" />
</head>
<body>
	
	<div class="app" id="app">
		<div class="hd">
			<a href="index.html" class="logo"></a>
			
			<a href="selectCity.html" class="select-city">Mumbai</a>
			
			<a href="publish.html" class="btn-sell">Sell</a>

			<a href="userIndex.html" class="user"></a>
		</div>

		<div class="breadcrumb">
			<a class="item" href="index.html">Home</a>
			<span class="seq">&nbsp;</span>
			<a class="item" href="index.html">User Center</a>
			<span class="seq">&nbsp;</span>
			<span class="item">Password</span>
		</div>

		<div class="bd">
			<div class="panel form-wrap">
				<p>
					Your mailbox(login) is <span class="email">7454646@qq.com</span>,please add login password used to release the goods
				</p>

				<div class="tip-wrap">
					<p class="tip tip-error">The password can not be empty!</p>
				</div>

				<form class="form" action="findPwdResult.html" method="get">
					<div class="control">
						<input type="text" id="J_Email" placeholder="Email" />
						<a href="javascript:;" class="close"></a>
					</div>

					<button class="btn btn-blue fn-mt30">Release</button>
				</form>
				
				<a href="findPwd.html" class="link link-forget-pwd">Forgot Password &gt;&gt;</a>
			</div>
		</div>
		
		<div class="ft">
			<div class="sub-nav">
				<a href="#" class="nav-item">
					<span class="icon-home"></span>
					<span class="text">Home</span>
				</a>
				<a href="#" class="nav-item">
					<span class="icon-faq"></span>
					<span class="text">FAQ</span>
				</a>
				<a href="#" class="nav-item last">
					<span class="icon-feedback"></span>
					<span class="text">Feedback</span>
				</a>
			</div>
			<p class="copyright">Copyright &copy; 2014 Changyou.com</p>
		</div>
	</div>

	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/app.js"></script>
	<script>
		(function($) {
			var dist = {
				"email empty": "email can't be empty.",
				"email syntax error": "email syntax error",
				"password empty": "password can't be empty.",
				"repeatPassword empty": "repeat password can't be empty.",
				"password too short": "the length of password is too short.",
				"passwords be same": "the two password must be same."
			};

			$("input").clearInput();


			$("#J_Register").bind("click", function() {
				var email = $("#J_Email");
				var password = $("#J_Password");
				var repeatPassword = $("#J_RepeatPassword");

				// email empty
				if(email && email.val()=="") {
					showError(dist["email empty"]);
					return;
				}

				// email syntax error
				if(!isEmail(email.val())) {
					showError(dist["email syntax error"]);
					return;
				}

				// password empty
				if(password && password.val()=="") {
					showError(dist["password empty"]);
					return;
				}

				// repeat password empty
				if(repeatPassword && repeatPassword.val()=="") {
					showError(dist["repeatPassword empty"]);
					return;
				}

				// the length of password is too short
				if(password.val().length <=4 || repeatPassword.val().length<=4) {
					showError(dist["password too short"]);
					return;
				}

				// passwords be same
				if(password.val() != repeatPassword.val()) {
					showError(dist["passwords be same"]);
					return;
				}

				hideError();

				// submit form

			});

		})(jQuery);
	</script>
</body>
</html>